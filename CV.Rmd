---
name: Marc H
surname: Weber
position: Geographer
address: Corvallis, Oregon
date: "`r format(Sys.time(), '%B, %Y')`"
qualifications: M.S.
googlescholar: "DOs--KYAAAAJ&hl"
email: weber.marc@epa.gov
www: mhweber.github.io
fontawesome: yes
github: mhweber
docname: Curriculum Vitae
aboutme: I'm a geographer with the US EPA. My research interests include spatial analysis in R and Python, Geographic Information Science (GIS), aquatic ecology, remote sensing, open source science and environmental modeling.
headcolor: 414141
output: vitae::hyndman
---

```{r setup, include=FALSE}
library(scholar)
library(vitae)
library(stringr)
library(readr)
library(RefManageR)
library(tidyr)
library(dplyr)
library(gsheet)

knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message=FALSE, error=FALSE)

gs_id = 'DOs--KYAAAAJ&hl'
marc_gs = get_profile(gs_id) 

cites = get_publications(gs_id) |> 
   dplyr::filter(!grepl("Meeting", journal)) 

for(i in 1:nrow(cites)){
  if(!grepl("MH Weber|M Weber", cites$author[i])){
    cites$author[i] = get_complete_authors(id = gs_id, pubid = cites$pubid[i])
  }
}

follow = readLines('https://img.shields.io/github/followers/mhweber?label=follow&style=social')
f = str_match(follow, "<title>Follow: \\s*(.*?)\\s*</title>")[,2]

stars = readLines('https://img.shields.io/github/stars/mhweber?affiliations=OWNER%2CCOLLABORATOR&style=social')
s = str_match(stars, "<title>Stars: \\s*(.*?)\\s*</title>")[,2]
```

# Employment

```{r consulting}
tribble(
  ~ role, ~ company, ~ loc, ~ dates, ~ details,
  
  "Geographer", "US Environmental Protection Agency", "Corvallis, Oregon", "June 2008 - Present", 
     list("Provide geospatial support for the EPA National Aquatic Resource Surveys (NARS) and helping build national predictive models and maps of watershed integrity and aquatic condition",
          "Develop approaches primarily in Python and R, as well as using ArcGIS, to process landscape data for spatial designs and modeling, and to interact with the National Hydrography Dataset Plus (NHDPlus).",
          "Develop the spatial framework and geospatial analysis support for the national lakes, rivers and streams, wetlands, and coastal surveys.",
          "Develop natioanl scale geospatial products such as StreamCat and LakeCat - datasets of national scale watershed characteristics.",
          "Produce R packages such as StreamCatTools and spsurvey for applying data and methods to aquatic resource work"
    ),
  
  "Instructor, GIS Certificate Program", "University of Washington", "Seattle, WA", "Jan 2023 - Present", 
    list("Instructor for GIS Project Planning course for GIS certificate program.",
"Instructor for GIS in the Pacific Northwest course for GIS certificate program.",
"Design and deliver lectures focused on project planning for GIS, GIS technology, and trends in the GIS profession."),
  

)  |>  
  detailed_entries(role, dates, company, loc, details)
```

<!-- \newpage -->

# Education

```{r education}
tribble(
  ~ degree, ~ uni, ~ loc, ~ dates, ~ details,
  "MS in Geography", "Portland State University", "Portland, OR", "2001", 
    list("\\textbf{Advisor}: Dr. Keith Hadley",
         "\\textbf{Committee}: Barbara Brower, Andrew Fountain, Peter Frenzen, Robert Tinnin",
         "\\textbf{Title}: Patterns in Forest Succession and Mortality Following Burial by Mudflow at Cedar Flats, Mount St. Helens, Washington"),

  "BA in English", "University of Oregon", "Eugene, OR", "1988-1992", 
    list("Robert D. Clark Honors College",
         "\\textbf{Minor}: Environmental Studies")
) %>% 
  detailed_entries(what = loc, 
                   when = dates, 
                   with = uni, 
                   where = degree, 
                   why = details)
```

# Publications

```{r}
cites <- cites |> 
  dplyr::mutate(title = case_when(
    (pubid=='FiDNX6EVdGUC') ~ "15N of chironomidae: an index of nitrogen sources and processing within watersheds for national aquatic monitoring programs",
    TRUE ~ title))
mutate(cites, bibtype = "article")  |> 
  as.BibEntry() %>%
  WriteBib("marc-gs.bib")

bibliography_entries("marc-gs.bib")  |> 
  arrange(desc(issued))

```


## Workshops

```{r}
# xx = gsheet2tbl('https://docs.google.com/spreadsheets/d/1Zyyk8laciZ-3oAJl_tGGLeRcpfuUJpTRtTio0gMO06o/edit#gid=1176238393') %>% 
#   mutate(Details = ifelse(is.na(Details), character(), Details)) %>% 
#   tidyr::separate_longer_delim(Details, "SPLIT") %>% 
#   group_by(Title) %>% 
#   mutate(Details = list(as.list(Details))) %>% 
#   slice(1) %>% 
#   ungroup() 
# 
# ind = list()
# 
# for(i in 1:nrow(xx)){
#   ind[[i]] = sum(is.na(unlist(xx$Details[[i]]))) == length(unlist(xx$Details[[i]]))
# }
# 
# ind = which(unlist(ind))
# 
# for(i in 1:length(ind)){ xx$Details[[ind[i]]] = character() }
# 
# detailed_entries(arrange(xx, sort), 
#                  what  = Venue, 
#                  when  = Type, 
#                  with  = Title, 
#                  where = Date, 
#                  why   = Details,
#                  .protect = TRUE)
```

## Awards

```{r}
gsheet2tbl('https://docs.google.com/spreadsheets/d/1KqOAC9GrC85aKmt4oUiEe2Og3uZttyXQo1rOeukSAo8/edit#gid=0') |> 
  detailed_entries(when = Year, with = Name)
```

# Open Source Software

```{r}
tribble(
  ~ pkg, ~ role, ~ details,
  "\\href{https://github.com/USEPA/StreamCatTools}{StreamCatTools}", "Author", "R package to work with the StreamCat API within R and access the full suite of StreamCat catchment and watershed scale metrics for all NHDPlusV2 stream reaches and catchments.",
  
  "\\href{https://github.com/USEPA/spsurvey}{spsurvey}", "Co-author", "spsurvey is an R package that implements a design-based approach to statistical inference, with a focus on spatial data.",

  "\\href{https://github.com/doi-usgs/nhdplusTools}{DOI-USGS/nhdplusTools}",  "Contributor", "Manipulating hydrographic data with the NHDPlus data model.",
) %>%
 detailed_entries(with = pkg,
                  when = role, 
                  what = details, 
                  .protect = FALSE)
```


